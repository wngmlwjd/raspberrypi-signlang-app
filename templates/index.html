<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Raspberry Pi Camera Stream</title>
</head>
<body>
    <h1>Camera Stream</h1>
    {# 카메라 화면은 주석 처리 #}
    {# <img src="{{ url_for('video_feed') }}" width="640" height="480"> #}

    <!-- 녹화 버튼 -->
    <form id="recordForm" method="POST" action="/start_recording">
        <button type="submit">번역 시작</button>
    </form>

    <!-- 녹화 상태 표시 -->
    <p id="status">대기 중</p>

    <script>
        const form = document.getElementById("recordForm");
        const statusEl = document.getElementById("status");

        form.addEventListener("submit", async (e) => {
            e.preventDefault();
            statusEl.textContent = "녹화 중...";

            const res = await fetch("/start_recording", { method: "POST" });
            const data = await res.json();
            statusEl.textContent = data.status;
        });

        // 녹화 상태 폴링 (선택 사항)
        setInterval(async () => {
            const res = await fetch("/recording_status");
            const data = await res.json();
            statusEl.textContent = data.status;
        }, 1000);
    </script>
</body>
</html>